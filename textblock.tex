\newdimen\edgemargin
\newdimen\spinemargin

\def\leftmargin{\ifodd\pageno\spinemargin\else\edgemargin\fi}

% width, height, top margin, spine margin
\def\settextblock#1#2#3#4{
  \hsize=#1
  \vsize=#2
  \voffset=#3
  \spinemargin=#4
  \edgemargin=\pdfpagewidth
    \advance\edgemargin by -\hsize
    \advance\edgemargin by -\spinemargin
}

\def\showtextblock{
  \message{textblock (width \the\hsize,}
  \message{height \the\vsize)}
  \message{margins (top \the\voffset,}
  \dimen0=\pdfpageheight
    \advance\dimen0 by -\vsize
    \advance\dimen0 by -\voffset
  \message{bottom \the\dimen0,}
  \message{edge \the\edgemargin,}
  \message{spine \the\spinemargin)}
}
