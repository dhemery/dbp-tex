% How many lines down the page to place \sink titles.
\newcount\sinklines

\def\frontmatter{
  \global\pageno=1
  \global\pagecount=1
  \global\folio={\romannumeral\pageno }
  \output={\facingpages}
  \useemptypageframe
  \normalbaselines
}

\def\mainmatter{
  \output={\balancedspreads}
  \nextrectopage
  \global\pageno=1
  \global\folio={\number\pageno }
  \usenormalpageframe
  \normalbaselines
}

\def\backmatter{
  \output={\facingpages}
  \nextrectopage
  \global\pageno=\pagecount
  \global\folio={\romannumeral\pageno }
  \useemptypageframe
  \normalbaselines
}

\def\endbook{\nextrectopage\end}

\def\part#1{
  \nextpartpage
  \sink{\parttitlestyle #1}
  \nextrectopage
}
\def\nextpartpage{\nextrectopage}
\def\parttitlestyle{\raggedspine\parttitletype\tightbaselines}

\def\chapter#1{
  \nextchapterpage
  \usedisplayframethispage
  \sink{\chaptertitlestyle #1}
}
\def\rectochapters{\gdef\nextchapterpage{\nextrectopage}}
\def\nextchapterpage{\nextpage}
\def\chaptertitlestyle{\raggedspine\chaptertitletype\tightbaselines}

% \bookinfo is a title division in frontmatter or backmatter.
\def\bookinfo#1{
  \nextpage
  \useemptypageframe
  {\infopagetitlestyle #1\par}
}
\def\infopagetitlestyle{\centered\chaptertitletype\tightbaselines}

% Boxes the given content and sinks its baseline \sinklines
% text lines down the page.
%
% \sink works only when it is the first content added to a new page.
\def\sink#1{{
  \topskip=\sinklines\leading
    \advance\topskip by -\maxdepth
  \vbox{#1\par}
}}

\sinklines=11
