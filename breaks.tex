%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Badness (of a line)
%   How much stretching or shrinking TeX must apply to fit
%   a line into \hsize. The square of the badness is added
%   to the demerits for the paragraph.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% TeX finds the set of line breaks that minimizes the sum
% of demerits for the paragraph. If the resulting paragraph
% has any line with badness above \pretolerance, TeX
% hyphenates the words and tries again. See \tolerance.
\pretolerance=100

% If TeX cannot break the paragraph in a tolerable way, it
% applies its hyphenation algorithm to insert applicable
% discretionary breaks into every word. It then finds the
% optimal set of line breaks, allowing the discretionary
% breaks. If the resulting paragraph has any line with
% badness above \tolerance, TeX sets one or more overful
% lines as a last resort.
\tolerance=200

% TeX adds \linepenalty to badness when it calculates the
% demerits contributed by each line. A higher value will
% prefer shorter paragraphs.
\linepenalty=10

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Penalties (of a breakpoint)
%   A penalty represents the undesirability of breaking the
%   line at this spot. The square of sum of penalties for a
%   breakpoint is added to the demerits for a paragraph.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Penalty for breaking a line after a discretionary hyphen.
\hyphenpenalty=10

% Penalty for breaking a line after an explicit hyphen.
\exhyphenpenalty=50

% Penalty for breaking a line after a binary operation.
\binoppenalty=700

% Penalty for breaking a line after a math relation.
\relpenalty=500

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Demerits (of a paragraph)
%   TeX chooses breakpoints to minimize the sum of demerits
%   for the paragraph.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Demerits for visually incompatible adjacent lines.
%
% TeX categorizes lines by fitness (how well they fit
% the hbox in which they appear):
% - tight: shrink with badness > 12
% - decent: badness <= 12
% - loose: stretch with badness > 12
% - very loose: badness > 100
%
% Lines are visually compatible only if their fitness
% categories the same or adjacent.
\adjdemerits=10000

% Demerits for ending consecutive lines in hyphens.
\doublehyphendemerits=10000

% Demerits for breaking the last line of a paragraph at a
% hyphen.
\finalhyphendemerits=5000

% TODO: Move \parfillskip here?
% TODO: Move all of this stuff back to lines.tex and paragraphs.tex?

% Penalty for breaking a page just after a line that ends
% with a hyphen.
\brokenpenalty=100

% Penalty for breaking a page between the first two lines
% of a paragraph.
\clubpenalty=150

% Penalty for breaking a page between the last two lines of
% a paragraph.
\widowpenalty=150

% Penalty for breaking a page just before a display.
\predisplaypenalty=10000

% Penalty for breaking a page between the last two lines of
% a paragraph that precedes a display.
\displaywidowpenalty=50

% \floatingpenalty % penalty for insertions that are split
% \holdinginserts % positive if insertions remain dormant in output box
% \interlinepenalty % penalty for page break between lines
% \outputpenalty % penalty at the current page break
