\countdef\pageno=0 % TeX writes \count0 to the log when shipping a page out
\newcount\pagenoincrement

\def\nextpage{\vfil\eject\useclearedframethispage}
\def\nextoddpage{\nextpage\onoddpage}
\def\nextevenpage{\nextpage\ifodd\pageno \line{}\nextpage\else \fi}
\def\onoddpage{\ifodd\pageno \else \line{}\nextpage\fi}

% Breaking pages
\def\break{\penalty-10000 }
\def\nobreak{\penalty10000 }
\def\eject{\par\break}
\def\raggedbottom{} % TODO: Define this

\def\advancepageno{\global\advance\pageno by \pagenoincrement}
\def\folio{\number\pageno}

\pageno=1
\pagenoincrement=1
\raggedbottom

\maxdepth=4pt % maximum depth of boxes on main pages
\splitmaxdepth=\maxdimen % maximum depth of boxes on split pages
\boxmaxdepth=\maxdimen % maximum depth of boxes on explicit pages

\brokenpenalty=100 % penalty for page break after a hyphenated line
\predisplaypenalty=10000 % penalty for page break just before a display
\clubpenalty=150 % penalty for create a club line at bottom of page
\widowpenalty=150 % penalty for creating a widow line at top of page
\displaywidowpenalty=50 % ditto, before a display
\splittopskip=\leading % glue at top of split pages

% \floatingpenalty % penalty for insertions that are split
% \holdinginserts % positive if insertions remain dormant in output box
% \interlinepenalty % penalty for page break between lines
% \outputpenalty % penalty at the current page break
