\countdef\pageno=0 % TeX writes \count0 to the log when shipping a page out
\newcount\pagenoincrement

\def\nextpage{\vfil\eject\useclearedframethispage}
\def\nextrectopage{\nextpage\onrectopage}
\def\nextversopage{\nextpage\ifodd\pageno \line{}\nextpage\else \fi}
\def\onrectopage{\ifodd\pageno \else \line{}\nextpage\fi}

% Breaking pages
\def\break{\penalty-10000 }
\def\nobreak{\penalty10000 }
\def\eject{\par\break}
\def\raggedbottom{} % TODO: Define this

\def\advancepageno{\global\advance\pageno by \pagenoincrement}
\def\folio{\number\pageno}

\pageno=1
\pagenoincrement=1

\maxdepth=4pt % maximum depth of boxes on main pages
\boxmaxdepth=\maxdimen % maximum depth of boxes on explicit pages
\splitmaxdepth=\maxdimen % maximum depth of boxes on split pages
\splittopskip=\leading % glue at top of split pages

% Penalty for breaking a page just after a line that ends
% with a hyphen.
\brokenpenalty=100

% Penalty for breaking a page between lines of a paragraph.
\interlinepenalty=0

% Penalty for breaking a page between the first two lines
% of a paragraph.
\clubpenalty=0 % Bringhurst says don't worry about these.

% Penalty for breaking a page between the last two lines of
% a paragraph.
\widowpenalty=700

% Penalty for breaking a page just before a display.
\predisplaypenalty=10000

% Penalty for breaking a page between the last two lines of
% a paragraph that precedes a display.
\displaywidowpenalty=50

% \floatingpenalty % penalty for insertions that are split
