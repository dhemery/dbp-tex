\countdef\pageno=0 % TeX writes \count0 to the log when shipping a page out
\newcount\pagenoincrement

\def\nextpage{\vfil\eject\useclearedframethispage}
\def\nextrectopage{\nextpage\onrectopage}
\def\nextversopage{\nextpage\ifodd\pageno \line{}\nextpage\else \fi}
\def\onrectopage{\ifodd\pageno \else \line{}\nextpage\fi}

% Breaking pages
\def\break{\penalty-10000 }
\def\nobreak{\penalty10000 }
\def\eject{\par\break}
\def\raggedbottom{} % TODO: Define this

\def\advancepageno{\global\advance\pageno by \pagenoincrement}
\def\folio{\number\pageno}

\pageno=1
\pagenoincrement=1

\maxdepth=4pt % maximum depth of boxes on main pages
\boxmaxdepth=\maxdimen % maximum depth of boxes on explicit pages
\splitmaxdepth=\maxdimen % maximum depth of boxes on split pages
\splittopskip=\leading % glue at top of split pages
